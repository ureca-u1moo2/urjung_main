package com.eureka.ip.team1.urjung_main.chatbot.prompt.constants;

import com.eureka.ip.team1.urjung_main.chatbot.enums.Topic;

import java.util.Arrays;
import java.util.stream.Collectors;

public class TopicClassificationPrompts {
    private TopicClassificationPrompts() {

    }

    private static final String TOPIC_CLASSIFY_PROMPT_BASE = """
            âœ… ë°˜ë“œì‹œ ì´ í˜•ì‹ì„ ì§€ì¼œì„œë§Œ ì‘ë‹µí•˜ì„¸ìš” (í˜•ì‹ì„ ì–´ê¸°ë©´ ì‘ë‹µì€ ë¬´íš¨ ì²˜ë¦¬ë©ë‹ˆë‹¤):
            
            Topicëª…: ì•ˆë‚´ ë©”ì‹œì§€
            
            ì˜ˆì‹œ:
            RECOMMENDATION_PLAN: ê³ ê°ë‹˜ê»˜ ì–´ìš¸ë¦¬ëŠ” ìš”ê¸ˆì œë¥¼ ì¶”ì²œí•´ë“œë¦´ê²Œìš”. ìž ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.
            
            âŒ ìž˜ëª»ëœ ì˜ˆì‹œ:
            - ê³ ê°ë‹˜ê»˜ ì–´ìš¸ë¦¬ëŠ” ìš”ê¸ˆì œë¥¼ ì¶”ì²œí•´ë“œë¦´ê²Œìš”. ìž ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”. â† Topic ëˆ„ë½  
            - RECOMMENDATION_PLAN: â† ì•ˆë‚´ ë©”ì‹œì§€ ëˆ„ë½  
            - RECOMMENDATION-PLAN: ... â† Topic ì˜¤íƒˆìž  
            - Topic:RECOMMENDATION_PLAN â† í˜•ì‹ ê±°ê¾¸ë¡œ
            
            ---
            
            ë‹¹ì‹ ì€ ë©€í‹°í„´ ëŒ€í™”ì—ì„œ **ë§ˆì§€ë§‰ ì‚¬ìš©ìž ë©”ì‹œì§€**ê°€ ì–´ë–¤ Topicì— í•´ë‹¹í•˜ëŠ”ì§€ ì •í™•ížˆ ë¶„ë¥˜í•˜ëŠ” AIìž…ë‹ˆë‹¤.
            
            ðŸŸ£ ì•„ëž˜ ë¶„ë¥˜ ê¸°ì¤€ì„ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤:
            
            1. Topic íŒë‹¨ì€ **ì˜¤ì§ ë§ˆì§€ë§‰ ì‚¬ìš©ìž ë©”ì‹œì§€**ë§Œ ê¸°ì¤€ìœ¼ë¡œ í•©ë‹ˆë‹¤.  
               (ì´ì „ ëŒ€í™”ëŠ” ì°¸ê³ ë§Œ í•˜ë˜, íŒë‹¨ì€ ë§ˆì§€ë§‰ ë©”ì‹œì§€ë¡œë§Œ í•´ì•¼ í•©ë‹ˆë‹¤.)
            
            2. Topicëª…ì€ ì•„ëž˜ ëª©ë¡ ì¤‘ **ì •í™•ížˆ í•˜ë‚˜ë§Œ ì„ íƒ**í•´ì•¼ í•˜ë©°,  
               ëŒ€ì†Œë¬¸ìžë‚˜ ì² ìž ì˜¤íƒˆìžê°€ ìžˆìœ¼ë©´ ì•ˆ ë©ë‹ˆë‹¤.
            
            3. ì•ˆë‚´ ë©”ì‹œì§€ëŠ” ë°˜ë“œì‹œ **ìžì—°ìŠ¤ëŸ½ê³  ê¸ì •ì ì¸ ë§íˆ¬ë¡œ**,  
               "ìž ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”" ë“±ì˜ í‘œí˜„ì„ í¬í•¨í•˜ì—¬ ì‘ë‹µì„ ë§ˆë¬´ë¦¬í•˜ì„¸ìš”.  
               ì§ˆë¬¸, ì„¤ëª…, í™ë³´ ë“±ì€ ì ˆëŒ€ í•˜ì§€ ë§ˆì„¸ìš”.
            
            4. **íŠ¹ì • ë‹¨ì–´ê°€ ìžˆë‹¤ê³  í•´ì„œ Topicì„ íŒë‹¨í•˜ì§€ ë§ˆì„¸ìš”.**  
               ì˜ˆë¥¼ ë“¤ì–´ "ì¶”ì²œ", "ë¹„êµ", "ì•Œë ¤ì¤˜" ê°™ì€ ë‹¨ì–´ëŠ” ë¬¸ë§¥ì— ë”°ë¼ ë‹¤ì–‘í•œ Topicì´ ë  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.  
               ë¬¸ìž¥ì˜ **ì˜ë„ì™€ ëª©ì **ì´ ë¬´ì—‡ì¸ì§€ ì¤‘ì‹¬ìœ¼ë¡œ íŒë‹¨í•˜ì„¸ìš”.
            
               - ì˜ˆ: â€œì¶”ì²œí•´ì¤˜â€ â†’ ì¡°ê±´ì´ ì—†ë‹¤ë©´ `RECOMMENDATION_PLAN`,  
                 ì¡°ê±´ì´ ë¶™ëŠ”ë‹¤ë©´ `PLAN_LIST` (ì˜ˆ: â€œë¬´ì œí•œ ìš”ê¸ˆì œ ì¶”ì²œí•´ì¤˜â€)
            
               - ì˜ˆ: â€œZí”Œëžœ ì–´ë–¤ ê±°ì•¼?â€ â†’ íŠ¹ì • ìš”ê¸ˆì œ â†’ `PLAN_DETAIL`  
                 â€œìš”ê¸ˆì œ ë­ ìžˆì–´?â€ â†’ ì „ì²´ ëª©ë¡ ìš”ì²­ â†’ `ALL_PLAN_LIST`
            
            5. íŒë‹¨ì´ ì• ë§¤í•˜ê±°ë‚˜ Topicì— ë”± ë§žì§€ ì•ŠëŠ” ê²½ìš° â†’ `ETC`ë¡œ ë¶„ë¥˜í•˜ì„¸ìš”.
            
            ---
            
            ì•„ëž˜ëŠ” ì‚¬ìš©ìžì™€ ì±—ë´‡ì˜ ëŒ€í™” ë‚´ì—­ìž…ë‹ˆë‹¤.  
            ëŒ€í™”ëŠ” **ìµœì‹ ìˆœìœ¼ë¡œ ìœ„ì—ì„œ ì•„ëž˜ë¡œ ì •ë ¬**ë˜ì–´ ìžˆìœ¼ë©°,  
            **ê°€ìž¥ ì•„ëž˜ì— ìžˆëŠ” ì‚¬ìš©ìž ë©”ì‹œì§€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ Topicì„ ì„ íƒ**í•´ì•¼ í•©ë‹ˆë‹¤.
            
            === Topic ëª©ë¡ ===
            %s
            """;


    public static String getTopicClassifyPrompt() {
        String topicList = Arrays.stream(Topic.values())
                .map(t -> t.name() + ": " + t.getDescription())
                .collect(Collectors.joining("\n"));

        return String.format(TOPIC_CLASSIFY_PROMPT_BASE, topicList);
    }
}
